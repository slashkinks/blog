{% extends "admin/base_admin.html" %}
{% block title %}new{% endblock %}
{% block content %}
    <div class="new-post remodal-bg">
        <h3>new post</h3>
        <input id="title" class="input-post-page title" placeholder="header" value="{{ request.form.title }}">
        <br>
        <select style="width:50% !important;" id="select-theme" class="select-post-theme js-example-tags form-control select2-hidden-accessible" multiple="" tabindex="-1" aria-hidden="true">
            {% for tag in tags %}
                 <option value={{ tag.tag_name }}>{{ tag.tag_name }}</option>
            {% endfor %}
        </select>
        <br>
        <br>
        <div class="remodal" data-remodal-id="modal">
           <!--  <button  data-remodal-action="close" class="remodal-close"></button>
            {% for file in files %}
            <img src={{ '../../static/uploads/blog/' + file[0] }} >
            <div class="caption">
                <p>/static/uploads/blog/{{ file[0] }}</p>
            </div>
            {% endfor %} -->
            <div id="masonry">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/1.jpg">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/2.jpg">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/3.jpg">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/4.jpg">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/6.jpg">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/8.jpg">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/9.jpg">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/7.jpg">
            {% for file in files %}
            <img src={{ '../../static/uploads/blog/' + file[0] }} >
            {% endfor %} -->
            </div>
        </div>
        <button data-remodal-target="modal" class="my-admin-button">choose images for new post</button>
        <br>
        <div class="body_post">
            <textarea id="post_text">{{ request.form.text }}</textarea>
        </div>
        <br>
        <br>
        <button class="save-post-button">save post</button>
        <br>
        <br>
        <style type="text/css">
            div#masonry { 
              display: flex; 
              flex-direction: column; 
              flex-wrap: wrap;
              height: 100vw;
              width: 90%;
              /*max-height: 800px;*/
              font-size: 0;  
            }
            div#masonry img {  
              width: 33.4%;
              //width: 30%;
              transition: .5s opacity;
            } 

            div#masonry:hover img { opacity: 0.85; }
            div#masonry:hover img:hover { opacity: 1; } 

            /* fallback for earlier versions of Firefox */

            @supports not (flex-wrap: wrap) {
              div#masonry { display: block; }
              div#masonry img {  
              display: inline-block;
              vertical-align: top;
              }
            }
        </style>
       
    </div>
{% endblock %}
{% block js_library %}
    {{ super() }}
    <script src="../../static/js/tinymce/tinymce.min.js"></script>
    <script type="text/javascript" src="../../static/js/create_posts.js"></script>
    <script>
        tinymce.init({
            selector: '#post_text',
            relative_urls: false,
            plugins: ['image textcolor'],
            /*plugins: [
              'advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker',
              'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime  nonbreaking',
              'save contextmenu directionality template paste textcolor'
            ],*/
            toolbar: 'styleselect | alignleft aligncenter alignright alignjustify ' +
            '| bullist numlist outdent indent | image | forecolor',
            //link image | print preview fullpage | forecolor backcolor',
            //image_advtab: true
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function() {
         $(".select-post-theme").select2({
             tags:true
         });
        });
    </script>
{% endblock %}